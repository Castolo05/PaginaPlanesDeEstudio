<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planes de Estudio - Facultad de Ciencias Económicas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #333;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #003366;
            color: white;
            padding: 10px 0;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
        }
        .header-content {
            display: flex;
            align-items: center;
            flex-grow: 1;
            justify-content: center;
        }
        #logo {
            height: 100px;
            margin: 0 20px;
        }
        #mensaje {
            height: 60px;
            margin: 0 20px;
        }
        h1 {
            text-align: center;
            margin: 0;
            flex-grow: 1;
        }
        nav {
            background-color: #00406e;
            padding: 10px;
            text-align: center;
        }
        nav button {
            background-color: #ffffff;
            border: none;
            color: #00406e;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            width: 220px;
            height: 60px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            vertical-align: top;
            flex-direction: column;
            border-radius: 10px;
        }
        nav button:hover, nav button.active {
            background-color: #1e90ff;
            color: #ffffff;
        }
        main {
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .year-section, .mix-section {
            width: 100%;
            max-width: 300px;
            margin: 10px;
        }
        .year-title, .mix-title {
            background-color: #00406e;
            color: white;
            padding: 5px;
            text-align: center;
            margin-bottom: 10px;
        }
        .course-grid {
            display: flex;
            flex-direction: column;
        }
        .course {
            background-color: #ffffff;
            border: 1px solid #cccccc;
            padding: 10px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .course:hover {
            filter: brightness(0.85);
        }
        .course h2 {
            font-size: 0.9em;
            margin: 0;
        }
        .details {
            display: none;
            padding: 10px;
            border-top: 1px solid #cccccc;
            font-size: 0.8em;
        }
        .course.active .details {
            display: block;
        }
        .correlatives, .is-correlative-for {
            list-style-type: none;
            padding-left: 10px;
        }
        .status-buttons {
            margin-top: 5px;
        }
        .status-button {
            margin: 2px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9em;
            color: white;
            border: none;
            border-radius: 3px;
        }
        .final-aprobado, .ingreso-aprobado {
            background-color: #66bb6a;
        }
        .sin-cursada, .sin-ingreso {
            background-color: #ffffff;
            color: #000000;
            border: 1px solid #cccccc;
        }
        .cursada-aprobada {
            background-color: #64b5f6;
        }
        .disabled {
            opacity: 0.5;
        }
        @media only screen and (max-width: 600px) {
            header {
                flex-direction: column;
            }
            .header-content {
                flex-direction: column;
            }
            #logo {
                height: 80px;
                margin: 10px 0;
            }
            #mensaje {
                height: 50px;
                margin: 10px 0;
            }
            h1 {
                font-size: 1.5em;
                text-align: center;
            }
            nav button {
                width: 100%;
                margin: 5px 0;
            }
            .year-section, .mix-section {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <img id="logo" src="Logo.png" alt="Logo de la Universidad">
            <h1>Planes de Estudio - Facultad de Ciencias Económicas</h1>
        </div>
        <img id="mensaje" src="mensaje.png" alt="Mensaje">
    </header>
    <nav>
        <button id="btn-gestion-tecnologica" onclick="loadCareer('gestion-tecnologica')">
            <span>Licenciatura en</span>
            <span>Gestión Tecnológica</span>
        </button>
        <button id="btn-economia-empresarial" onclick="loadCareer('economia-empresarial')">
            <span>Licenciatura en</span>
            <span>Economía Empresarial</span>
        </button>
        <button id="btn-contador-publico" onclick="loadCareer('contador-publico')">Contador Público</button>
        <button id="btn-administracion" onclick="loadCareer('administracion')">
            <span>Licenciatura en</span>
            <span>Administración</span>
        </button>
    </nav>
    <main id="year-sections">
        <!-- Las secciones de año se cargarán aquí dinámicamente -->
    </main>
    <script>
        const careers = {
            'gestion-tecnologica': [
                { id: 0, name: 'Introducción a las Ciencias Económicas', correlatives: [], year: 1, mix: '-' },
                { id: 1, name: 'Contabilidad Básica', correlatives: [0], year: 1, mix: 'A' },
                { id: 2, name: 'Matemática I', correlatives: [0], year: 1, mix: 'A' },
                { id: 3, name: 'Administración', correlatives: [0], year: 1, mix: 'A' },
                { id: 4, name: 'Introducción a la Economía', correlatives: [0], year: 1, mix: 'B' },
                { id: 5, name: 'Instituciones al Derecho Público', correlatives: [], year: 1, mix: 'B' },
                { id: 6, name: 'Estadística', correlatives: [0], year: 1, mix: 'B' },
                { id: 7, name: 'Historia Económica', correlatives: [], year: 1, mix: 'B' },
                { id: 8, name: 'Matemática II', correlatives: [2], year: 2, mix: 'A' },
                { id: 9, name: 'Sistema de Información Gerencial', correlatives: [1, 3], year: 2, mix: 'A' },
                { id: 10, name: 'Filosofía y Lógica', correlatives: [], year: 2, mix: 'A' },
                { id: 11, name: 'Análisis Microeconómico', correlatives: [4], year: 2, mix: 'B' },
                { id: 12, name: 'Derecho Empresario I', correlatives: [], year: 2, mix: 'B' },
                { id: 13, name: 'Técnicas Cuantitativas', correlatives: [6], year: 2, mix: 'B' },
                { id: 14, name: 'Sistemas Administrativos', correlatives: [], year: 2, mix: 'B' },
                { id: 15, name: 'Matemática Financiera', correlatives: [2, 6], year: 3, mix: 'A' },
                { id: 16, name: 'Análisis e Interpretación de Estados Contables', correlatives: [1, 9], year: 3, mix: 'A' },
                { id: 17, name: 'Análisis y Diseño de Sistemas I', correlatives: [9, 14], year: 3, mix: 'A' },
                { id: 18, name: 'Innovación y Diseño', correlatives: [3], year: 3, mix: 'A' },
                { id: 19, name: 'Análisis Macroeconómico', correlatives: [4], year: 3, mix: 'B' },
                { id: 20, name: 'Derecho Aplicado a la Tecnología y a la Información', correlatives: [12], year: 3, mix: 'B' },
                { id: 21, name: 'Dirección y Gestión del Talento', correlatives: [3], year: 3, mix: 'B' },
                { id: 22, name: 'Gobernanza de Tecnología de Información', correlatives: [3], year: 3, mix: 'B' },
                { id: 23, name: 'Emprendedorismo Tecnológico', correlatives: [3], year: 3, mix: 'B' },
                { id: 24, name: 'Finanzas Corporativas', correlatives: [15], year: 4, mix: 'A' },
                { id: 25, name: 'Efectos de la Tributación en los Negocios Tecnológicos', correlatives: [5, 16], year: 4, mix: 'A' },
                { id: 26, name: 'Análisis y Diseño de Sistemas II', correlatives: [17], year: 4, mix: 'A' },
                { id: 27, name: 'Marketing Digital, Social Media & E-Commerce', correlatives: [6, 11], year: 4, mix: 'A' },
                { id: 28, name: 'Seguridad de la Información y Auditoría de Sistemas', correlatives: [9, 14, 16], year: 4, mix: 'A' },
                { id: 29, name: 'Economía Digital', correlatives: [11, 19], year: 4, mix: 'B' },
                { id: 30, name: 'Transformación Digital', correlatives: [17, 22], year: 4, mix: 'B' },
                { id: 31, name: 'Herramientas de Inteligencia Empresarial', correlatives: [13, 26], year: 4, mix: 'B' },
                { id: 32, name: 'Dirección Estratégica y Modelos de Negocios', correlatives: [18, 23], year: 4, mix: 'B' },
                { id: 33, name: 'Tendencias Tecnológicas', correlatives: [18, 23], year: 4, mix: 'B' },
                { id: 34, name: 'Taller de Desarrollo de Habilidades I', correlatives: [], year: 1, mix: 'T' },
                { id: 35, name: 'Taller de Desarrollo de Habilidades II', correlatives: [], year: 1, mix: 'T' },
                { id: 36, name: 'Taller de Manejo de Herramientas Informáticas', correlatives: [], year: 2, mix: 'T' },
                { id: 37, name: 'Taller de Idiomas I', correlatives: [], year: 2, mix: 'T' },
                { id: 38, name: 'Taller de Idioma II', correlatives: [37], year: 3, mix: 'T' },
                { id: 39, name: 'Taller de Trabajo Final de Graduación', correlatives: [], year: 4, mix: 'T' },
                { id: 40, name: 'Taller de Manejo de Herramientas Informáticas II (Opcional)', correlatives: [], year: 4, mix: 'T' },
                { id: 41, name: 'Espacio de Práctica Profesional Supervisada', correlatives: [14, 16], year: 4, mix: 'P' },
                { id: 42, name: 'Taller de Idiomas (Examen Internacional)', correlatives: [], year: 3, mix: 'T' }
            ],
            'economia-empresarial': [
                { id: 0, name: 'Introducción a las Ciencias Económicas', correlatives: [], year: 1, mix: '-' },
                { id: 1, name: 'Contabilidad Básica', correlatives: [0], year: 1, mix: 'A' },
                { id: 2, name: 'Matemática I', correlatives: [0], year: 1, mix: 'A' },
                { id: 3, name: 'Administración', correlatives: [0], year: 1, mix: 'A' },
                { id: 4, name: 'Introducción a la Economía', correlatives: [0], year: 1, mix: 'B' },
                { id: 5, name: 'Instituciones al Derecho Público', correlatives: [], year: 1, mix: 'B' },
                { id: 6, name: 'Estadística', correlatives: [0], year: 1, mix: 'B' },
                { id: 7, name: 'Historia Económica', correlatives: [], year: 1, mix: 'B' },
                { id: 8, name: 'Matemática II', correlatives: [2], year: 2, mix: 'A' },
                { id: 9, name: 'Sistema de Información Gerencial', correlatives: [1, 3], year: 2, mix: 'A' },
                { id: 10, name: 'Filosofía y Lógica', correlatives: [], year: 2, mix: 'A' },
                { id: 11, name: 'Análisis Microeconómico', correlatives: [4], year: 2, mix: 'B' },
                { id: 12, name: 'Derecho Empresario I', correlatives: [], year: 2, mix: 'B' },
                { id: 13, name: 'Técnicas Cuantitativas', correlatives: [6], year: 2, mix: 'B' },
                { id: 14, name: 'Sistemas Administrativos', correlatives: [], year: 2, mix: 'B' },
                { id: 15, name: 'Matemática Financiera', correlatives: [2, 6], year: 3, mix: 'A' },               
                { id: 16, name: 'Administración Pública', correlatives: [1, 3, 5], year: 3, mix: 'A' },
                { id: 17, name: 'Análisis e Interpretación de Estados Contables', correlatives: [1, 9], year: 3, mix: 'A' },
                { id: 18, name: 'Organización Industrial', correlatives: [11], year: 3, mix: 'A' },
                { id: 19, name: 'Econometría y Modelización', correlatives: [13], year: 3, mix: 'B' },
                { id: 20, name: 'Análisis Macroeconómico', correlatives: [4], year: 3, mix: 'B' },
                { id: 21, name: 'Derecho Empresario II', correlatives: [12], year: 3, mix: 'B' },
                { id: 22, name: 'Logística y Organización Productiva', correlatives: [3, 13], year: 3, mix: 'B' },
                { id: 23, name: 'Finanzas Corporativas', correlatives: [6, 15], year: 4, mix: 'A' },
                { id: 24, name: 'Innovación y Desarrollo Regional', correlatives: [11, 20], year: 4, mix: 'A' },
                { id: 25, name: 'Introducción al Análisis de Datos y DataMining', correlatives: [19], year: 4, mix: 'A' },
                { id: 26, name: 'Tecnologías de Información', correlatives: [9, 14], year: 4, mix: 'A' },
                { id: 27, name: 'Derecho Financiero y de Mercado de Capitales', correlatives: [21], year: 4, mix: 'B' },
                { id: 28, name: 'Finanzas de Activos y Mercados Financieros', correlatives: [15], year: 4, mix: 'B' },
                { id: 29, name: 'Introducción a la Tributación', correlatives: [5, 17], year: 4, mix: 'B' },
                { id: 30, name: 'Costos para la Toma de Decisiones', correlatives: [17], year: 4, mix: 'B' },
                { id: 31, name: 'Política Económica', correlatives: [11, 20], year: 5, mix: 'A' },
                { id: 32, name: 'Metodología de la Investigación', correlatives: [7], year: 5, mix: 'A' },
                { id: 33, name: 'Economía Gerencial', correlatives: [13, 23, 30], year: 5, mix: 'A' },
                { id: 34, name: 'Práctica Profesional', correlatives: [19], year: 5, mix: 'A' },
                { id: 35, name: 'Taller de Desarrollo de Habilidades I', correlatives: [], year: 1, mix: 'T' },
                { id: 36, name: 'Taller de Desarrollo de Habilidades II', correlatives: [], year: 1, mix: 'T' },
                { id: 37, name: 'Taller de Manejo de Herramientas Informáticas', correlatives: [], year: 2, mix: 'T' },
                { id: 38, name: 'Taller de Idiomas I', correlatives: [], year: 2, mix: 'T' },
                { id: 39, name: 'Taller de Idioma II', correlatives: [38], year: 3, mix: 'T' },
                { id: 40, name: 'Taller de Práctica de Sistemas Contables', correlatives: [1], year: 3, mix: 'T' },
                { id: 41, name: 'Espacio de Práctica Profesional Supervisada', correlatives: [], year: 4, mix: 'P' }
            ],
            'contador-publico': [
                { id: 0, name: 'Introducción a las Ciencias Económicas', correlatives: [], year: 1, mix: '-' },
                { id: 1, name: 'Contabilidad Básica', correlatives: [0], year: 1, mix: 'A' },
                { id: 2, name: 'Matemática I', correlatives: [0], year: 1, mix: 'A' },
                { id: 3, name: 'Administración', correlatives: [0], year: 1, mix: 'A' },
                { id: 4, name: 'Introducción a la Economía', correlatives: [0], year: 1, mix: 'B' },
                { id: 5, name: 'Instituciones al Derecho Público', correlatives: [], year: 1, mix: 'B' },
                { id: 6, name: 'Estadística', correlatives: [0], year: 1, mix: 'B' },
                { id: 7, name: 'Historia Económica', correlatives: [], year: 1, mix: 'B' },
                { id: 8, name: 'Matemática II', correlatives: [2], year: 2, mix: 'A' },
                { id: 9, name: 'Sistema de Información Gerencial', correlatives: [1, 3], year: 2, mix: 'A' },
                { id: 10, name: 'Filosofía y Lógica', correlatives: [], year: 2, mix: 'A' },
                { id: 11, name: 'Contabilidad Intermedia', correlatives: [1], year: 2, mix: 'A' },
                { id: 12, name: 'Análisis Microeconómico', correlatives: [4], year: 2, mix: 'B' },
                { id: 13, name: 'Derecho Empresario I', correlatives: [], year: 2, mix: 'B' },
                { id: 14, name: 'Técnicas Cuantitativas', correlatives: [6], year: 2, mix: 'B' },
                { id: 15, name: 'Sistemas Administrativos', correlatives: [], year: 2, mix: 'B' },
                { id: 16, name: 'Matemática Financiera', correlatives: [2, 6], year: 3, mix: 'A' },
                { id: 17, name: 'Administración Pública', correlatives: [1, 3, 5], year: 3, mix: 'A' },
                { id: 18, name: 'Tecnologías de la Información', correlatives: [9, 15], year: 3, mix: 'A' },
                { id: 19, name: 'Costos', correlatives: [1, 15], year: 3, mix: 'A' },
                { id: 20, name: 'Análisis Macroeconómico', correlatives: [4], year: 3, mix: 'B' },
                { id: 21, name: 'Estados Contables', correlatives: [11], year: 3, mix: 'B' },
                { id: 22, name: 'Derecho Empresario II', correlatives: [13], year: 3, mix: 'B' },
                { id: 23, name: 'Finanzas Corporativas', correlatives: [6, 16], year: 4, mix: 'A' },
                { id: 24, name: 'Gestión de Costos', correlatives: [19], year: 4, mix: 'A' },
                { id: 25, name: 'Impuestos I', correlatives: [5], year: 4, mix: 'A' },
                { id: 26, name: 'Contabilidad Superior', correlatives: [11], year: 4, mix: 'A' },
                { id: 27, name: 'Auditoria I', correlatives: [13, 15, 21], year: 4, mix: 'B' },
                { id: 28, name: 'Legislación Laboral', correlatives: [5], year: 4, mix: 'B' },
                { id: 29, name: 'Concursos y Quiebras', correlatives: [22], year: 4, mix: 'B' },
                { id: 30, name: 'Finanzas de Activos y Mercados Financieros', correlatives: [16], year: 4, mix: 'B' },
                { id: 31, name: 'Auditoria II', correlatives: [27], year: 5, mix: 'A' },
                { id: 32, name: 'Impuestos II', correlatives: [25], year: 5, mix: 'A' },
                { id: 33, name: 'Práctica Profesional', correlatives: [27], year: 5, mix: 'A' },
                { id: 34, name: 'Metodología de la Investigación', correlatives: [10], year: 5, mix: 'A' },
                { id: 35, name: 'Taller de Desarrollo de Habilidades I', correlatives: [], year: 1, mix: 'T' },
                { id: 36, name: 'Taller de Desarrollo de Habilidades II', correlatives: [], year: 1, mix: 'T' },
                { id: 37, name: 'Taller de Manejo de Herramientas Informáticas', correlatives: [], year: 2, mix: 'T' },
                { id: 38, name: 'Taller de Idiomas I', correlatives: [], year: 2, mix: 'T' },
                { id: 39, name: 'Taller de Idioma II', correlatives: [38], year: 3, mix: 'T' },
                { id: 40, name: 'Taller de Práctica de Sistemas Contables', correlatives: [1], year: 3, mix: 'T' },
                { id: 41, name: 'Espacio de Práctica Profesional Supervisada', correlatives: [15, 21], year: 4, mix: 'P' },
                { id: 42, name: 'Taller de Idiomas (Examen Internacional)', correlatives: [], year: 3, mix: 'T' }
            ],
'administracion': [
    { id: 0, name: 'Introducción a las Ciencias Económicas', correlatives: [], year: 1, mix: '-' },
    { id: 1, name: 'Contabilidad Básica', correlatives: [0], year: 1, mix: 'A' },
    { id: 2, name: 'Matemática I', correlatives: [0], year: 1, mix: 'A' },
    { id: 3, name: 'Administración', correlatives: [0], year: 1, mix: 'A' },
    { id: 4, name: 'Introducción a la Economía', correlatives: [0], year: 1, mix: 'B' },
    { id: 5, name: 'Instituciones al Derecho Público', correlatives: [], year: 1, mix: 'B' },
    { id: 6, name: 'Estadística', correlatives: [0], year: 1, mix: 'B' },
    { id: 7, name: 'Historia Económica', correlatives: [], year: 1, mix: 'B' },
    { id: 8, name: 'Matemática II', correlatives: [2], year: 2, mix: 'A' },
    { id: 9, name: 'Sistema de Información Gerencial', correlatives: [1, 3], year: 2, mix: 'A' },
    { id: 10, name: 'Filosofía y Lógica', correlatives: [], year: 2, mix: 'A' },
    { id: 11, name: 'Comportamiento Organizacional', correlatives: [3], year: 2, mix: 'A' },
    { id: 12, name: 'Análisis Microeconómico', correlatives: [4], year: 2, mix: 'B' },
    { id: 13, name: 'Derecho Empresario I', correlatives: [], year: 2, mix: 'B' },
    { id: 14, name: 'Técnicas Cuantitativas', correlatives: [6], year: 2, mix: 'B' },
    { id: 15, name: 'Sistemas Administrativos', correlatives: [], year: 2, mix: 'B' },
    { id: 16, name: 'Matemática Financiera', correlatives: [2, 6], year: 3, mix: 'A' },
    { id: 17, name: 'Administración Pública', correlatives: [1, 3, 5], year: 3, mix: 'A' },
    { id: 18, name: 'Análisis e Interpretación de Estados Contables', correlatives: [1, 9], year: 3, mix: 'A' },
    { id: 19, name: 'Recursos Humanos', correlatives: [11], year: 3, mix: 'A' },
    { id: 20, name: 'Análisis Macroeconómico', correlatives: [4], year: 3, mix: 'B' },
    { id: 21, name: 'Marketing', correlatives: [3, 6], year: 3, mix: 'B' },
    { id: 22, name: 'Derecho Empresario II', correlatives: [13], year: 3, mix: 'B' },
    { id: 23, name: 'Logística y Organización Productiva', correlatives: [3, 14], year: 3, mix: 'B' },
    { id: 24, name: 'Finanzas Corporativas', correlatives: [6, 16], year: 4, mix: 'A' },
    { id: 25, name: 'Innovación y Desarrollo Regional', correlatives: [12, 15, 18], year: 4, mix: 'A' },
    { id: 26, name: 'Derecho Empresario III', correlatives: [13], year: 4, mix: 'A' },
    { id: 27, name: 'Dirección Estratégica I', correlatives: [9, 11], year: 4, mix: 'A' },
    { id: 28, name: 'Gestión Comercial', correlatives: [21], year: 4, mix: 'B' },
    { id: 29, name: 'Emprendedorismo y Empresas Familiares', correlatives: [11], year: 4, mix: 'B' },
    { id: 30, name: 'Introducción a la Tributación', correlatives: [5, 18], year: 4, mix: 'B' },
    { id: 31, name: 'Costos para la Toma de Decisiones', correlatives: [18], year: 4, mix: 'B' },
    { id: 32, name: 'Dirección Estratégica II', correlatives: [27], year: 5, mix: 'A' },
    { id: 33, name: 'Metodología de la Investigación', correlatives: [10, 27], year: 5, mix: 'A' },
    { id: 34, name: 'Tecnología de Información', correlatives: [9, 15], year: 5, mix: 'A' },
    { id: 35, name: 'Práctica Profesional', correlatives: [27], year: 5, mix: 'A' },
    { id: 36, name: 'T1 Taller de Desarrollo de Habilidades I', correlatives: [], year: 1, mix: 'T' },
    { id: 37, name: 'T2 Taller de Desarrollo de Habilidades II', correlatives: [], year: 1, mix: 'T' },
    { id: 38, name: 'T3 Taller de Manejo de Herramientas Informáticas', correlatives: [], year: 2, mix: 'T' },
    { id: 39, name: 'T4 Taller de Idiomas I', correlatives: [], year: 2, mix: 'T' },
    { id: 40, name: 'T5 Taller de Idioma II', correlatives: [39], year: 3, mix: 'T' },
    { id: 41, name: 'T6 Taller de Práctica de Sistemas Contables', correlatives: [1], year: 3, mix: 'T' },
    { id: 42, name: 'Espacio de Práctica Profesional Supervisada', correlatives: [15, 18], year: 4, mix: 'P' }
]
        };

        let currentCareer = '';
        let openCourses = [];

        function loadCareer(careerName) {
            currentCareer = careerName;
            const yearSections = document.getElementById('year-sections');
            yearSections.innerHTML = '';

            document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${careerName}`).classList.add('active');

            const yearNames = ['1er', '2do', '3er', '4to', '5to'];
            const maxYear = Math.max(...careers[careerName].map(course => course.year));

            for (let year = 1; year <= maxYear; year++) {
                const yearSection = document.createElement('div');
                yearSection.className = 'year-section';
                yearSection.innerHTML = `<div class="year-title">${yearNames[year-1]} Año</div><div class="course-grid"></div>`;
                const courseGrid = yearSection.querySelector('.course-grid');

                careers[careerName].filter(course => course.year === year).forEach(course => {
                    const courseDiv = document.createElement('div');
                    courseDiv.className = 'course sin-cursada';
                    courseDiv.id = `course-${course.id}`;

                    let statusButtons = `
                        <button class="status-button final-aprobado" onclick="changeStatus(${course.id}, 'final-aprobado')">Final Aprobado</button>
                        <button class="status-button cursada-aprobada" onclick="changeStatus(${course.id}, 'cursada-aprobada')">Cursada Aprobada</button>
                        <button class="status-button sin-cursada" onclick="changeStatus(${course.id}, 'sin-cursada')">Sin Cursada</button>
                    `;

                    if (course.id === 0) {
                        statusButtons = `
                            <button class="status-button final-aprobado" onclick="changeStatus(${course.id}, 'ingreso-aprobado')">Ingreso Aprobado</button>
                            <button class="status-button sin-cursada" onclick="changeStatus(${course.id}, 'sin-ingreso')">Sin Ingreso</button>
                        `;
                    } else if (course.name.includes('Taller') || course.name.includes('Espacio de Práctica')) {
                        statusButtons = `
                            <button class="status-button final-aprobado" onclick="changeStatus(${course.id}, 'final-aprobado')">Final Aprobado</button>
                            <button class="status-button sin-cursada" onclick="changeStatus(${course.id}, 'sin-cursada')">Sin Cursada</button>
                        `;
                    }

                    courseDiv.innerHTML = `
                        <h2>${course.name}</h2>
                        <div class="details">
                            <h3>Correlativas necesarias:</h3>
                            <ul class="correlatives">
                                ${course.correlatives.length ? course.correlatives.map(corrId => `<li>- ${careers[currentCareer].find(c => c.id === corrId).name}</li>`).join('') : '<li>Ninguna</li>'}
                            </ul>
                            <h3>Es correlativa para:</h3>
                            <ul class="is-correlative-for">
                                ${careers[currentCareer].filter(c => c.correlatives.includes(course.id)).length ? careers[currentCareer].filter(c => c.correlatives.includes(course.id)).map(c => `<li>- ${c.name}</li>`).join('') : '<li>Ninguna</li>'}
                            </ul>
                            <div class="status-buttons">
                                ${statusButtons}
                            </div>
                        </div>
                    `;
                    courseGrid.appendChild(courseDiv);

                    courseDiv.addEventListener('click', (e) => {
                        if (!e.target.classList.contains('status-button')) {
                            toggleCourseDetails(courseDiv);
                        }
                    });
                });

                yearSections.appendChild(yearSection);
            }

            updateCourseAvailability();
        }

        function toggleCourseDetails(courseDiv) {
            if (courseDiv.classList.contains('active')) {
                courseDiv.classList.remove('active');
                openCourses = openCourses.filter(c => c !== courseDiv);
            } else {
                if (openCourses.length >= 3) {
                    openCourses[0].classList.remove('active');
                    openCourses.shift();
                }
                courseDiv.classList.add('active');
                openCourses.push(courseDiv);
            }
            
            // Actualizar el color del menú desplegable
            const details = courseDiv.querySelector('.details');
            if (details) {
                details.style.backgroundColor = getComputedStyle(courseDiv).backgroundColor;
            }
        }

        function changeStatus(courseId, status) {
            const courseDiv = document.getElementById(`course-${courseId}`);
            const course = careers[currentCareer].find(c => c.id === courseId);

            if ((status === 'final-aprobado' || status === 'ingreso-aprobado') && !allCorrelativesApproved(course)) {
                alert('No se puede aprobar. Todas las correlativas deben estar aprobadas.');
                return;
            }

            courseDiv.className = `course ${status}`;
            updateCourseAvailability();
            updateCorrelativeStatus(courseId, status);

            // Actualizar el color del menú desplegable si está abierto
            const details = courseDiv.querySelector('.details');
            if (details && courseDiv.classList.contains('active')) {
                details.style.backgroundColor = getComputedStyle(courseDiv).backgroundColor;
            }
        }

        function allCorrelativesApproved(course) {
            return course.correlatives.every(corrId => {
                const corrDiv = document.getElementById(`course-${corrId}`);
                return corrDiv.classList.contains('final-aprobado') || corrDiv.classList.contains('ingreso-aprobado') || corrDiv.classList.contains('cursada-aprobada');
            });
        }

        function updateCorrelativeStatus(courseId, status) {
            const course = careers[currentCareer].find(c => c.id === courseId);
            careers[currentCareer].filter(c => c.correlatives.includes(courseId)).forEach(correlative => {
                const correlativeDiv = document.getElementById(`course-${correlative.id}`);
                if (status === 'sin-cursada' || status === 'sin-ingreso') {
                    correlativeDiv.classList.remove('final-aprobado', 'ingreso-aprobado', 'cursada-aprobada');
                    correlativeDiv.classList.add('sin-cursada');
                    updateCorrelativeStatus(correlative.id, 'sin-cursada');
                }
            });
        }

        function updateCourseAvailability() {
            careers[currentCareer].forEach(course => {
                const courseDiv = document.getElementById(`course-${course.id}`);
                const allCorrelativesApproved = course.correlatives.every(corrId => {
                    const corrDiv = document.getElementById(`course-${corrId}`);
                    return corrDiv.classList.contains('final-aprobado') || corrDiv.classList.contains('cursada-aprobada') || corrDiv.classList.contains('ingreso-aprobado');
                });

                if (!allCorrelativesApproved) {
                    courseDiv.classList.add('disabled');
                } else {
                    courseDiv.classList.remove('disabled');
                }

                // Ocultar botones de estado si la materia está deshabilitada
                const statusButtons = courseDiv.querySelector('.status-buttons');
                if (!allCorrelativesApproved) {
                    statusButtons.style.display = 'none';
                } else {
                    statusButtons.style.display = 'block';
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('year-sections').innerHTML = '<p>Seleccione una carrera para ver su plan de estudios.</p>';
        });
    </script>
</body>
</html>
